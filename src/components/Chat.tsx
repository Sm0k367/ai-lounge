import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Send, Loader2, Bot } from 'lucide-react';\n\nconst Chat: React.FC = () => {\n  const [messages, setMessages] = useState<{ role: 'user' | 'assistant'; content: string }[]>([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n\n  const mockAIResponse = useCallback(async (userMessage: string) => {\n    setIsTyping(true);\n    // Simulate typing delay\n    await new Promise(resolve => setTimeout(resolve, 1000));\n\n    const responses = [\n      `That's an interesting point about ${userMessage}. In the AI lounge, we explore cutting-edge neural networks and their applications in creative industries.`,\n      `Great question! The latest trends in generative AI include multimodal models that handle text, image, and audio simultaneously.`,\n      `Absolutely, ${userMessage} is a hot topic. We're seeing rapid advancements in real-time voice synthesis and conversational agents.`,\n      `Love that! Combining ${userMessage} with Three.js creates immersive experiences like our club background.`,\n    ];\n\n    let response = responses[Math.floor(Math.random() * responses.length)];\n    // Simulate streaming\n    const words = response.split(' ');\n    let currentResponse = '';\n\n    for (let i = 0; i < words.length; i++) {\n      currentResponse += words[i] + ' ';\n      setMessages(prev => [\n        ...prev.slice(0, -1),\n        { role: 'assistant', content: currentResponse }\n      ]);\n      await new Promise(resolve => setTimeout(resolve, 50));\n    }\n\n    setIsTyping(false);\n  }, []);\n\n  const handleSend = async () => {\n    if (!input.trim() || isLoading) return;\n\n    const userMessage = input.trim();\n    setMessages(prev => [...prev, { role: 'user', content: userMessage }]);\n    setInput('');\n    setIsLoading(true);\n\n    setTimeout(async () => {\n      await mockAIResponse(userMessage);\n      setIsLoading(false);\n    }, 500);\n  };\n\n  return (\n    <div className=\"flex-1 flex flex-col bg-black/50 backdrop-blur-xl rounded-2xl border border-purple-500/30 p-8 max-w-4xl mx-auto w-full h-[80vh] neon-glow overflow-hidden\">\n      <div className=\"flex items-center gap-3 mb-6 pb-4 border-b border-purple-500/30\">\n        <Bot className=\"w-8 h-8 text-purple-400 animate-pulse\" />\n        <div>\n          <h3 className=\"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\n            Neural Companion\n          </h3>\n          <p className=\"text-sm text-purple-300/80\">Powered by cutting-edge AI models</p>\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto space-y-4 mb-6 pr-2 scrollbar-thin scrollbar-thumb-purple-500/50 scrollbar-track-transparent\">\n        {messages.map((message, idx) => (\n          <div\n            key={idx}\n            className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n          >\n            <div\n              className={`max-w-[80%] p-4 rounded-2xl ${\n                message.role === 'user'\n                  ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white'\n                  : 'bg-gray-900/50 border border-purple-500/30 text-white'\n              } neon-glow`}\n            >\n              {message.content}\n            </div>\n          </div>\n        ))}\n        {isTyping && (\n          <div className=\"flex justify-start\">\n            <div className=\"bg-gray-900/50 border border-purple-500/30 p-4 rounded-2xl max-w-[80%] flex items-center gap-2 animate-pulse\">\n              <Loader2 className=\"w-5 h-5 animate-spin text-purple-400\" />\n              <span>AI is typing...</span>\n            </div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div className=\"flex gap-2\">\n        <Input\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyPress={(e) => e.key === 'Enter' && !isLoading && handleSend()}\n          placeholder=\"Type your message... (Press Enter to send)\"\n          className=\"flex-1 bg-gray-900/50 border-purple-500/50 text-white placeholder-purple-400/70 focus:border-purple-400 focus:ring-purple-400/50 neon-glow\"\n          disabled={isLoading}\n        />\n        <Button onClick={handleSend} disabled={isLoading || !input.trim()} className=\"neon-btn\">\n          <Send className=\"w-5 h-5\" />\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n